
<section class='user-content'>
  {{#if showSelection}}
  <form>
    <label class="control-label">{{i18n "user.delegations.title"}}</label>
    {{email-group-user-chooser
      onChange=(action "setProxyNames")
      value=delegations
      autocomplete="discourse"
      tabindex="1"
      options=(hash
        maximum=1
        fullWidthWrap=false
        allowAny=false
        allowEmails=false
        includeMessageableGroups=false
        placeholderKey="composer.users_placeholder"
        hasGroups=false
      )
    }}
    <div class="instructions">
      {{html-safe (i18n "user.delegations.short_instructions" username=username)}}
    </div>
  </form>

  {{else if hasProxy}}

  <div class="user-proxies">
    <h2>{{html-safe (i18n "user.delegations.title_delegation" username=username)}}</h2>

    {{#each delegationUsers as |user|}}
      {{user-info user=user}}
    {{/each}}
  </div>

  {{else}}

  <div class="user-proxies">
    {{html-safe (i18n "user.delegations.no_delegation" username=username)}}
  </div>

  {{/if}}

  {{#if anyMandates}}

  <h2>{{html-safe (i18n "user.delegations.received" username=username)}}</h2>

  <div class="mandator-users">
    {{#each mandates as |user|}}
      {{user-info user=user}}
    {{/each}}
  </div>

  {{else}}

  <div class="mandator-users empty">
    {{html-safe (i18n "user.delegations.none" username=username)}}
  </div>

  {{/if}}

</section>
